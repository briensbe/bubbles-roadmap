<div
  class="bubble-container"
  [class.selected]="isSelected"
  [style.width.px]="size"
  [style.height.px]="size"
  [style.left.px]="-size / 2"
  [style.bottom.px]="-size / 2"
  cdkDrag
  [cdkDragLockAxis]="axisLock"
  (cdkDragEnded)="onDragEnd($event)"
  (click)="onSingleClick($event)"
  (dblclick)="onBubbleClick($event)"
  (mouseenter)="onMouseEnter()"
>
  <div
    class="bubble"
    [style.width.px]="size"
    [style.height.px]="size"
    [style.backgroundColor]="serviceColor"
  >
    <div class="bubble-info" *ngIf="displayInfoInBubble">
      <div class="info-row">
        <span class="info-label">{{ useFullLabelsInBubble ? 'Valeur' : 'V' }}:</span>
        <span class="info-value">{{ project.value }}</span>
      </div>
      <div class="info-row">
        <span class="info-label">{{ useFullLabelsInBubble ? 'Complexit√©' : 'C' }}:</span>
        <span class="info-value">{{ project.complexity }}</span>
      </div>
    </div>
  </div>

  <div class="bubble-label" [style.bottom.px]="size + 8">
    <span class="bubble-name">{{ project.name }}</span>
    <span class="bubble-service">{{ project.service }}</span>
    <div class="badge-info" *ngIf="displayInfoInBadge">
      <span>V: {{ project.value }}</span>
      <span class="info-sep">|</span>
      <span>C: {{ project.complexity }}</span>
    </div>
  </div>

  <!-- Resize handle in bottom-right corner -->
  <div
    class="resize-handle bottom-right"
    (mousedown)="onResizeStart($event)"
    [class.resizing]="isResizing"
  ></div>
  <div
    class="resize-handle bottom-left"
    (mousedown)="onResizeStart($event)"
    [class.resizing]="isResizing"
  ></div>
  <div
    class="resize-handle top-left"
    (mousedown)="onResizeStart($event)"
    [class.resizing]="isResizing"
  ></div>
  <div
    class="resize-handle top-right"
    (mousedown)="onResizeStart($event)"
    [class.resizing]="isResizing"
  ></div>
</div>
